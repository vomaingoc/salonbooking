{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { MainContext } from 'contexts';\nimport { useNavigate } from 'react-router-dom';\nimport { LOGINED_DATA } from 'helpers/constants';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AuthLayout = props => {\n  _s();\n\n  const {\n    authenticated,\n    loginedSetter\n  } = useContext(MainContext);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const navigate = useNavigate();\n  var {\n    children\n  } = props;\n  const isBypassLogin = false;\n  useEffect(() => {\n    const onAppLoad = async () => {\n      const data = localStorage.getItem(LOGINED_DATA);\n\n      if (!data) {\n        navigate('/signin');\n        return;\n      }\n\n      const loginData = JSON.parse(data);\n      loginedSetter(loginData);\n      setIsAuthenticated(true);\n    };\n\n    if (authenticated) {\n      setIsAuthenticated(true);\n      return;\n    }\n\n    onAppLoad();\n  }, [authenticated, loginedSetter, navigate]);\n  return isAuthenticated || isBypassLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false) : null;\n};\n\n_s(AuthLayout, \"14ZgjdDXtLAzZiz7JbU9lU4o8vE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AuthLayout;\nexport default AuthLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthLayout\");","map":{"version":3,"names":["React","useContext","useEffect","useState","MainContext","useNavigate","LOGINED_DATA","AuthLayout","props","authenticated","loginedSetter","isAuthenticated","setIsAuthenticated","navigate","children","isBypassLogin","onAppLoad","data","localStorage","getItem","loginData","JSON","parse"],"sources":["/Users/loinguyen/.Trash/web/src/layouts/AuthLayout.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { MainContext } from 'contexts'\nimport { useNavigate } from 'react-router-dom'\nimport { LOGINED_DATA } from 'helpers/constants'\nimport { ModelUserLogin } from 'models/user'\n\ntype Props = {\n  children?: React.ReactNode\n}\n\nconst AuthLayout = (props: Props) => {\n  const { authenticated, loginedSetter } = useContext(MainContext)\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false)\n  const navigate = useNavigate()\n  var { children } = props\n  const isBypassLogin = false\n  useEffect(() => {\n    const onAppLoad = async () => {\n      const data = localStorage.getItem(LOGINED_DATA)\n      if (!data) {\n        navigate('/signin')\n        return\n      }\n      const loginData: ModelUserLogin = JSON.parse(data)\n      loginedSetter(loginData)\n      setIsAuthenticated(true)\n    }\n    if (authenticated) {\n      setIsAuthenticated(true)\n      return\n    }\n    onAppLoad()\n  }, [authenticated, loginedSetter, navigate])\n  return isAuthenticated || isBypassLogin ? <>{children}</> : null\n}\n\nexport default AuthLayout\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,UAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,YAAT,QAA6B,mBAA7B;;;;AAOA,MAAMC,UAAU,GAAIC,KAAD,IAAkB;EAAA;;EACnC,MAAM;IAAEC,aAAF;IAAiBC;EAAjB,IAAmCT,UAAU,CAACG,WAAD,CAAnD;EACA,MAAM,CAACO,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAU,KAAV,CAAtD;EACA,MAAMU,QAAQ,GAAGR,WAAW,EAA5B;EACA,IAAI;IAAES;EAAF,IAAeN,KAAnB;EACA,MAAMO,aAAa,GAAG,KAAtB;EACAb,SAAS,CAAC,MAAM;IACd,MAAMc,SAAS,GAAG,YAAY;MAC5B,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqBb,YAArB,CAAb;;MACA,IAAI,CAACW,IAAL,EAAW;QACTJ,QAAQ,CAAC,SAAD,CAAR;QACA;MACD;;MACD,MAAMO,SAAyB,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAlC;MACAP,aAAa,CAACU,SAAD,CAAb;MACAR,kBAAkB,CAAC,IAAD,CAAlB;IACD,CATD;;IAUA,IAAIH,aAAJ,EAAmB;MACjBG,kBAAkB,CAAC,IAAD,CAAlB;MACA;IACD;;IACDI,SAAS;EACV,CAhBQ,EAgBN,CAACP,aAAD,EAAgBC,aAAhB,EAA+BG,QAA/B,CAhBM,CAAT;EAiBA,OAAOF,eAAe,IAAII,aAAnB,gBAAmC;IAAA,UAAGD;EAAH,iBAAnC,GAAqD,IAA5D;AACD,CAxBD;;GAAMP,U;UAGaF,W;;;KAHbE,U;AA0BN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}